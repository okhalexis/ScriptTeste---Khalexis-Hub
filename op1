--[[
    NEOX DEV HUB - BRAINROT TYCOON EDITION
    Baseado no visual Neox + Lógica Solo Hub
    Criado para: O Jogo que estamos criando
]]

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local CoreGui = game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

-- ==================================================================
-- 1. SISTEMA DE UI (NEOX STYLE - FIX & OTIMIZADO)
-- ==================================================================

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "NeoxGameHub"
-- Se estiver testando no Roblox Studio, use PlayerGui. Se for exploit, CoreGui.
if pcall(function() return CoreGui.Parent end) then
    ScreenGui.Parent = CoreGui
else
    ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
end
ScreenGui.IgnoreGuiInset = true
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Frame Principal
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 450, 0, 320) -- Aumentei um pouco para caber os botões
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Color3.fromRGB(26, 17, 47)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

-- Sistema de Arrastar (Draggable)
local dragging, dragInput, dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then dragging = false end
        end)
    end
end)
MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- Bordas Arredondadas
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

-- Efeito Gradiente Animado (Corrigido para não dar Timeout)
local GradientFrame = Instance.new("Frame")
GradientFrame.Name = "GradientOverlay"
GradientFrame.Size = UDim2.new(1, 0, 1, 0)
GradientFrame.BackgroundTransparency = 0.90
GradientFrame.ZIndex = 0
GradientFrame.Parent = MainFrame
local GradientCorner = Instance.new("UICorner")
GradientCorner.CornerRadius = UDim.new(0, 10)
GradientCorner.Parent = GradientFrame
local UIGradient = Instance.new("UIGradient")
UIGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(121, 56, 234)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 34, 76))
})
UIGradient.Parent = GradientFrame

-- Animação do Gradiente (Loop Otimizado)
task.spawn(function()
    local rotation = 0
    while MainFrame.Parent do
        rotation = rotation + 1
        UIGradient.Rotation = rotation
        if rotation >= 360 then rotation = 0 end
        task.wait(0.02)
    end
end)

-- Título
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Parent = MainFrame
TitleLabel.Size = UDim2.new(1, -20, 0, 30)
TitleLabel.Position = UDim2.new(0, 10, 0, 5)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "NEOX | Dev Tool"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 18
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Container dos Botões (ScrollingFrame)
local Container = Instance.new("ScrollingFrame")
Container.Parent = MainFrame
Container.Size = UDim2.new(1, -20, 1, -50)
Container.Position = UDim2.new(0, 10, 0, 45)
Container.BackgroundTransparency = 1
Container.ScrollBarThickness = 4
Container.AutomaticCanvasSize = Enum.AutomaticSize.Y

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = Container
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 6)

-- Função para Criar Botões/Toggles
local function CreateButton(text, callback)
    local Button = Instance.new("TextButton")
    Button.Parent = Container
    Button.Size = UDim2.new(1, 0, 0, 35)
    Button.BackgroundColor3 = Color3.fromRGB(40, 28, 70)
    Button.Text = text
    Button.TextColor3 = Color3.fromRGB(220, 220, 220)
    Button.Font = Enum.Font.GothamSemibold
    Button.TextSize = 14
    Button.AutoButtonColor = false
    
    local BtnCorner = Instance.new("UICorner")
    BtnCorner.CornerRadius = UDim.new(0, 6)
    BtnCorner.Parent = Button
    
    Button.MouseButton1Click:Connect(function()
        -- Efeito de clique
        local originalColor = Button.BackgroundColor3
        Button.BackgroundColor3 = Color3.fromRGB(121, 56, 234)
        TweenService:Create(Button, TweenInfo.new(0.3), {BackgroundColor3 = originalColor}):Play()
        if callback then callback() end
    end)
    return Button
end

local function CreateToggle(text, callback)
    local state = false
    local Button = CreateButton(text .. " [OFF]", nil) -- Cria base visual
    
    Button.MouseButton1Click:Connect(function()
        state = not state
        if state then
            Button.Text = text .. " [ON]"
            Button.TextColor3 = Color3.fromRGB(100, 255, 100)
        else
            Button.Text = text .. " [OFF]"
            Button.TextColor3 = Color3.fromRGB(220, 220, 220)
        end
        if callback then callback(state) end
    end)
end

local function CreateSection(text)
    local Label = Instance.new("TextLabel")
    Label.Parent = Container
    Label.Size = UDim2.new(1, 0, 0, 20)
    Label.BackgroundTransparency = 1
    Label.Text = "--- " .. text .. " ---"
    Label.TextColor3 = Color3.fromRGB(150, 150, 150)
    Label.Font = Enum.Font.GothamBold
    Label.TextSize = 12
end

-- ==================================================================
-- 2. FUNCIONALIDADES (LÓGICA ADAPTADA DO SOLO HUB)
-- ==================================================================

CreateSection("PLAYER")

local SpeedEnabled = false
local SpeedVal = 100 -- Velocidade padrão do cheat

CreateToggle("Super Velocidade (WalkSpeed)", function(state)
    SpeedEnabled = state
    -- Loop para forçar a velocidade caso o jogo tente resetar
    task.spawn(function()
        while SpeedEnabled do
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = SpeedVal
            end
            task.wait(0.5)
        end
        -- Reseta ao desligar
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
            LocalPlayer.Character.Humanoid.WalkSpeed = 16
        end
    end)
end)

CreateButton("Voo (Básico)", function()
    -- Script simples de voo para testes
    local character = LocalPlayer.Character
    if not character then return end
    local root = character:FindFirstChild("HumanoidRootPart")
    
    local bp = Instance.new("BodyPosition", root)
    bp.MaxForce = Vector3.new(Math.huge, Math.huge, Math.huge)
    bp.Position = root.Position + Vector3.new(0, 50, 0) -- Sobe 50 studs
    
    -- Remove após 5 segundos para não ficar preso
    game.Debris:AddItem(bp, 5)
end)

CreateSection("AUTO FARM (TYCOON)")

local AutoCollect = false
CreateToggle("Auto Coletar (Magnet)", function(state)
    AutoCollect = state
    if state then
        task.spawn(function()
            while AutoCollect do
                pcall(function()
                    -- Adapte "Drops" ou "Money" para o nome da pasta de dinheiro do SEU jogo
                    local dropFolder = Workspace:FindFirstChild("Drops") or Workspace:FindFirstChild("Money")
                    
                    if dropFolder and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                        for _, part in pairs(dropFolder:GetChildren()) do
                            if part:IsA("BasePart") then
                                -- Teleporta o dinheiro até o jogador
                                part.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
                            end
                        end
                    end
                end)
                task.wait(0.1)
            end
        end)
    end
end)

CreateToggle("Auto Clicker (Ferramenta)", function(state)
    -- Simula cliques se o jogo tiver ferramenta de clique
    _G.AutoClick = state
    while _G.AutoClick do
        local tool = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Tool")
        if tool then
            tool:Activate()
        end
        task.wait(0.1)
    end
end)

CreateSection("VISUAIS (ESP)")

local ESPEnabled = false
local Highlights = {}

CreateToggle("Ativar ESP (Jogadores/NPCs)", function(state)
    ESPEnabled = state
    if state then
        task.spawn(function()
            while ESPEnabled do
                -- Adiciona Highlight em jogadores ou NPCs
                for _, obj in pairs(Workspace:GetDescendants()) do
                    if obj:IsA("Model") and obj:FindFirstChild("Humanoid") and obj.Name ~= LocalPlayer.Name then
                        if not obj:FindFirstChild("NeoxESP") then
                            local hl = Instance.new("Highlight")
                            hl.Name = "NeoxESP"
                            hl.FillColor = Color3.fromRGB(121, 56, 234)
                            hl.OutlineColor = Color3.fromRGB(255, 255, 255)
                            hl.Parent = obj
                            table.insert(Highlights, hl)
                        end
                    end
                end
                task.wait(1)
            end
        end)
    else
        -- Remove todos os Highlights criados
        for _, hl in pairs(Highlights) do
            if hl then hl:Destroy() end
        end
        Highlights = {}
    end
end)

CreateButton("Full Bright (Luz Infinita)", function()
    local lighting = game:GetService("Lighting")
    lighting.Brightness = 2
    lighting.ClockTime = 14
    lighting.FogEnd = 100000
    lighting.GlobalShadows = false
    lighting.Ambient = Color3.fromRGB(255, 255, 255)
end)

CreateSection("MISC")

CreateButton("Fechar UI", function()
    ScreenGui:Destroy()
end)

-- Notificação de Carregamento
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "Neox Hub",
    Text = "Script Carregado com Sucesso!",
    Duration = 5
})
