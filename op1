-- [[ MEGA PROMPT – KHALEXIS HUB V2.0 (SISTEMA DE CATEGORIAS COM PESQUISA DINÂMICA) ]]

-- 1. Booting the Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()

-- 2. Creating a Window
local Window = OrionLib:MakeWindow({
	Name = "Khalexis Hub V2.0", -- Nome do HUB
	HidePremium = false, 
	SaveConfig = true, 
	ConfigFolder = "KhalexisV2"
})

-- Estrutura para armazenar as categorias para o filtro.
-- No Orion, a maneira mais próxima de simular uma categoria 'filtrável'
-- que contém scripts é através de uma Tab. Como o prompt pede um sistema de
-- categorias filtráveis, vamos simular que cada Tab/Section é uma categoria.
-- Como o prompt pede APENAS UMA categoria, vamos criar um Tab para ela, e o filtro
-- será implementado de forma conceitual.

-- Usaremos uma Tab genérica para conter o sistema, e dentro dela,
-- a TextBox e as Seções que representam as categorias.
local Tab = Window:MakeTab({
	Name = "Scripts/Categorias",
	Icon = "rbxassetid://4483345998" -- Ícone de script
})

-- Tabela para armazenar as referências das categorias (Seções) para manipulação de visibilidade.
local FilterableCategories = {}

-- 3. TEXTBOX DE PESQUISA (Não é categoria, mas fica no topo da lista/conteúdo para filtragem)
-- Embora a TextBox não possa ser colocada *acima* da lista de Tabs do Orion, ela será
-- o primeiro elemento da Tab principal, simulando a função de pesquisa.

local SearchTextBox = Tab:AddTextbox({
	Name = "Pesquisar categoria…", -- Placeholder (Nome do Textbox no Orion)
	Default = "",
	TextDisappear = false, -- O texto (placeholder) não desaparece se não houver foco (melhor para placeholders)
	Callback = function(searchText)
		local search = searchText:lower():gsub("^%s+", "") -- Remove espaços em branco iniciais

		-- LÓGICA OBRIGATÓRIA: Filtro de categorias
		for categoryName, categoryElement in pairs(FilterableCategories) do
			local nameLower = categoryName:lower()

			if search == "" or nameLower:sub(1, #search) == search then
				-- Se a pesquisa estiver vazia OU o nome da categoria COMEÇA com o texto digitado
				-- NOTA: Assumindo que o elemento (Section/Custom UI) tem um método SetVisible().
				-- **Isto é conceitual**, pois a documentação da Orion não expõe 'SetVisible'
				-- para elementos AddSection(), mas é fundamental para a lógica solicitada.
				-- categoryElement:SetVisible(true) 
			else
				-- categoryElement:SetVisible(false)
			end
		end

        -- Devido à limitação da Orion em expor SetVisible(), a lógica acima apenas demonstra
        -- o conceito de como a filtragem deve funcionar ('COMEÇA COM').
        -- O usuário precisaria de uma versão modificada/premium da Orion ou de uma UI customizada
        -- para que 'AddSection' seja realmente ocultável.
	end
})

-- 4. CATEGORIA ÚNICA: Steal a Brainrot
-- Criando a seção (Categoria)
local CATEGORY_NAME = "Steal a Brainrot"
local StealBrainrotCategory = Tab:AddSection({
	Name = CATEGORY_NAME -- Nome da categoria
})

-- Adicionando a referência para a tabela de filtro
FilterableCategories[CATEGORY_NAME] = StealBrainrotCategory

-- Conteúdo da Categoria (Scripts)
-- Script 1
StealBrainrotCategory:AddButton({
	Name = "</> Steal A Brainrot MC",
	Callback = function()
		print("Executando Steal A Brainrot MC")
	end
})
-- ID Mascarado (Usando AddParagraph para simular o texto "Usuário" abaixo do nome do script)
StealBrainrotCategory:AddParagraph("ID Mascarado:", "Usuário")

-- Script 2
StealBrainrotCategory:AddButton({
	Name = "</> Steal A Brainrot SCRIPT",
	Callback = function()
		print("Executando Steal A Brainrot SCRIPT")
	end
})
-- ID Mascarado
StealBrainrotCategory:AddParagraph("ID Mascarado:", "Usuário")


-- 5. Finishing your script (REQUIRED)
OrionLib:Init()
